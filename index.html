<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electrical Load Calculator - Pro</title>
    <script src="https://cdn.tailwindcss.com"></script> <!-- Tailwind CSS CDN -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> <!-- Link to your CSS file -->
</head>
<body>
    <div class="app-container">
        <header class="text-center mb-12">
            <h1 class="main-title text-5xl mb-3">Electrical Load Calculator</h1>
            <p class="text-xl text-gray-600">Professional Planning Tool for House Construction</p>
        </header>

        <!-- OLD TOP Ad Slot (468x60) -->
        <div class="ad-placeholder ad-placeholder-top">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'd9cd18d203f70d5819709389555db784', // Original top ad key
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/d9cd18d203f70d5819709389555db784/invoke.js"></script>
        </div>

        <section id="projectDetails" class="section-card">
            <h2 class="section-title">Project & Client Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                <div class="input-group">
                    <label for="projectName">Project Name:</label>
                    <input type="text" id="projectName" class="input-field" placeholder="e.g., Modern Villa Residence">
                </div>
                <div class="input-group">
                    <label for="clientName">Client Name:</label>
                    <input type="text" id="clientName" class="input-field" placeholder="e.g., Mr. A. Sharma">
                </div>
                <div class="input-group">
                    <label for="projectAddress">Project Address:</label>
                    <input type="text" id="projectAddress" class="input-field" placeholder="e.g., Plot 42, Green Valley">
                </div>
                <div class="input-group">
                    <label for="calcDate">Calculation Date:</label>
                    <input type="date" id="calcDate" class="input-field">
                </div>
            </div>
        </section>

        <section id="electricalParameters" class="section-card">
            <h2 class="section-title">System Parameters</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4">
                <div class="input-group">
                    <label for="voltage">System Voltage (V):</label>
                    <input type="number" id="voltage" class="input-field" value="230">
                </div>
                <div class="input-group">
                    <label for="phase">System Phase:</label>
                    <select id="phase" class="select-field">
                        <option value="1" selected>Single Phase</option>
                        <option value="3">Three Phase</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="powerFactor">Power Factor (cos Ï†):</label>
                    <input type="number" id="powerFactor" class="input-field" value="0.85" step="0.01" min="0.1" max="1">
                </div>
            </div>
        </section>

        <!-- NEW "Top down" Ad Slot (728x90) -->
        <div class="ad-placeholder ad-placeholder-banner">
            <script type="text/javascript">
                atOptions = {
                    'key' : '795d93e191c197a63cbbb1157ad68d66', // Key for 728x90
                    'format' : 'iframe',
                    'height' : 90,
                    'width' : 728,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/795d93e191c197a63cbbb1157ad68d66/invoke.js"></script>
        </div>

        <section id="areasContainerWrapper" class="section-card">
            <h2 class="section-title">Load Details by Area</h2>
            <div id="areasContainer" class="mb-6">
                <!-- Area cards will be injected here -->
            </div>
            <button id="addAreaBtn" class="btn btn-primary w-full md:w-auto">Add New Area</button>
        </section>

        <!-- NEW "Middle up" Ad Slot (300x250) -->
        <div class="ad-placeholder ad-placeholder-box">
            <script type="text/javascript">
                atOptions = {
                    'key' : '0a67337a7831ffa876a0649209acb967', // Key for 300x250
                    'format' : 'iframe',
                    'height' : 250,
                    'width' : 300,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/0a67337a7831ffa876a0649209acb967/invoke.js"></script>
        </div>

        <!-- OLD MIDDLE Ad Slot (320x50) -->
        <div class="ad-placeholder ad-placeholder-middle">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'ff359359e6daa482f93b17ed85c0bec3', // Original middle ad key
                    'format' : 'iframe',
                    'height' : 50,
                    'width' : 320,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/ff359359e6daa482f93b17ed85c0bec3/invoke.js"></script>
        </div>

        <section id="calculationSummary" class="summary-card">
            <h2 class="section-title">Calculation Summary</h2>
            <div class="input-group mb-6">
                <label for="diversityFactor">Overall Diversity Factor (0.1 - 1.0):</label>
                <input type="number" id="diversityFactor" class="input-field w-full md:w-1/3" value="0.7" step="0.01" min="0.1" max="1.0">
                <p class="text-sm mt-2">Accounts for non-simultaneous operation. Typical: Small flat (0.7-0.8), Medium house (0.6-0.7), Large house (0.5-0.6).</p>
            </div>
            <div class="space-y-3">
                <div class="summary-item">
                    <span>Total Connected Load:</span>
                    <strong><span id="totalConnectedLoadW">0</span> W / <span id="totalConnectedLoadKW">0.00</span> kW</strong>
                </div>
                <div class="summary-item">
                    <span>Estimated Maximum Demand (with Diversity):</span>
                    <strong><span id="maxDemandW">0</span> W / <span id="maxDemandKW">0.00</span> kW</strong>
                </div>
                <div class="summary-item">
                    <span>Calculated Load Current (at Max Demand):</span>
                    <strong><span id="calculatedCurrent">0.00</span> Amps</strong>
                </div>
            </div>
             <p class="mt-8 text-sm bg-indigo-50 p-4 rounded-md border border-indigo-200">
                <strong>Important Note:</strong> This calculator provides an estimate for planning and preliminary design purposes only. It is crucial to consult with a qualified electrical engineer or licensed electrician for final electrical design, accurate equipment sizing, and full compliance with local codes, standards, and safety regulations.
            </p>
        </section>

        <div class="mt-12 text-center md:flex md:justify-end md:space-x-4 flex-col-md-row">
            <button id="printBtn" class="btn btn-secondary w-full md:w-auto mb-3 md:mb-0 no-print">Print Summary</button>
            <button id="resetBtn" class="btn btn-danger w-full md:w-auto no-print">Reset All Data</button>
        </div>
        
        <!-- OLD BOTTOM Ad Slot (728x90) -->
        <div class="ad-placeholder ad-placeholder-bottom">
            <script type="text/javascript">
                atOptions = {
                    'key' : '795d93e191c197a63cbbb1157ad68d66', // Original bottom ad key (same as new "Top down")
                    'format' : 'iframe',
                    'height' : 90,
                    'width' : 728,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/795d93e191c197a63cbbb1157ad68d66/invoke.js"></script>
        </div>

    </div> <!-- This is app-container closing tag -->

    <!-- Container for printable invoice, hidden by default, shown by print CSS -->
    <div id="print-invoice-container" class="hidden print:block">
        <!-- Content will be dynamically generated here by JavaScript -->
    </div>

    <script src="script.js"></script> <!-- Link to your JavaScript file -->
</body>
</html>